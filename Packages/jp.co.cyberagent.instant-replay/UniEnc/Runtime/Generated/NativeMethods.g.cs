// <auto-generated>
// This code is generated by csbindgen.
// DON'T CHANGE THIS DIRECTLY.
// </auto-generated>
#pragma warning disable CS8500
#pragma warning disable CS8981
using System;
using System.Runtime.InteropServices;


namespace UniEnc
{
    internal static unsafe partial class NativeMethods
    {
#if UNITY_IOS && !UNITY_EDITOR
        const string __DllName = "__Internal";
#else
        const string __DllName = "libunienc";
#endif
        



        [DllImport(__DllName, EntryPoint = "unienc_new_encoding_system", CallingConvention = CallingConvention.Cdecl, ExactSpelling = true)]
        internal static extern void* unienc_new_encoding_system(VideoEncoderOptionsNative* video_options, AudioEncoderOptionsNative* audio_options);

        [DllImport(__DllName, EntryPoint = "unienc_free_encoding_system", CallingConvention = CallingConvention.Cdecl, ExactSpelling = true)]
        internal static extern void unienc_free_encoding_system(void* system);

        [DllImport(__DllName, EntryPoint = "unienc_new_video_encoder", CallingConvention = CallingConvention.Cdecl, ExactSpelling = true)]
        [return: MarshalAs(UnmanagedType.U1)]
        internal static extern bool unienc_new_video_encoder(void* system, Mutex** input_out, Mutex** output_out, nuint on_error, SendPtr user_data);

        [DllImport(__DllName, EntryPoint = "unienc_new_audio_encoder", CallingConvention = CallingConvention.Cdecl, ExactSpelling = true)]
        [return: MarshalAs(UnmanagedType.U1)]
        internal static extern bool unienc_new_audio_encoder(void* system, Mutex** input_out, Mutex** output_out, nuint on_error, SendPtr user_data);

        [DllImport(__DllName, EntryPoint = "unienc_new_muxer", CallingConvention = CallingConvention.Cdecl, ExactSpelling = true)]
        [return: MarshalAs(UnmanagedType.U1)]
        internal static extern bool unienc_new_muxer(void* system, byte* output_path, Mutex** video_input_out, Mutex** audio_input_out, Mutex** completion_handle_out, nuint on_error, SendPtr user_data);

        [DllImport(__DllName, EntryPoint = "unienc_audio_encoder_push", CallingConvention = CallingConvention.Cdecl, ExactSpelling = true)]
        internal static extern void unienc_audio_encoder_push(SendPtr input, SendPtr data, nuint sample_count, ulong timestamp_in_samples, nuint callback, SendPtr user_data);

        [DllImport(__DllName, EntryPoint = "unienc_audio_encoder_pull", CallingConvention = CallingConvention.Cdecl, ExactSpelling = true)]
        internal static extern void unienc_audio_encoder_pull(SendPtr output, nuint callback, SendPtr user_data);

        [DllImport(__DllName, EntryPoint = "unienc_free_audio_encoder_input", CallingConvention = CallingConvention.Cdecl, ExactSpelling = true)]
        internal static extern void unienc_free_audio_encoder_input(SendPtr audio_input);

        [DllImport(__DllName, EntryPoint = "unienc_free_audio_encoder_output", CallingConvention = CallingConvention.Cdecl, ExactSpelling = true)]
        internal static extern void unienc_free_audio_encoder_output(SendPtr audio_output);

        [DllImport(__DllName, EntryPoint = "unienc_muxer_push_video", CallingConvention = CallingConvention.Cdecl, ExactSpelling = true)]
        internal static extern void unienc_muxer_push_video(SendPtr video_input, SendPtr data, nuint size, double timestamp, nuint callback, SendPtr user_data);

        [DllImport(__DllName, EntryPoint = "unienc_muxer_push_audio", CallingConvention = CallingConvention.Cdecl, ExactSpelling = true)]
        internal static extern void unienc_muxer_push_audio(SendPtr audio_input, SendPtr data, nuint size, double timestamp, nuint callback, SendPtr user_data);

        [DllImport(__DllName, EntryPoint = "unienc_muxer_finish_video", CallingConvention = CallingConvention.Cdecl, ExactSpelling = true)]
        internal static extern void unienc_muxer_finish_video(SendPtr video_input, nuint callback, SendPtr user_data);

        [DllImport(__DllName, EntryPoint = "unienc_muxer_finish_audio", CallingConvention = CallingConvention.Cdecl, ExactSpelling = true)]
        internal static extern void unienc_muxer_finish_audio(SendPtr audio_input, nuint callback, SendPtr user_data);

        [DllImport(__DllName, EntryPoint = "unienc_muxer_complete", CallingConvention = CallingConvention.Cdecl, ExactSpelling = true)]
        internal static extern void unienc_muxer_complete(SendPtr completion_handle, nuint callback, SendPtr user_data);

        [DllImport(__DllName, EntryPoint = "unienc_free_muxer_video_input", CallingConvention = CallingConvention.Cdecl, ExactSpelling = true)]
        internal static extern void unienc_free_muxer_video_input(SendPtr video_input);

        [DllImport(__DllName, EntryPoint = "unienc_free_muxer_audio_input", CallingConvention = CallingConvention.Cdecl, ExactSpelling = true)]
        internal static extern void unienc_free_muxer_audio_input(SendPtr audio_input);

        [DllImport(__DllName, EntryPoint = "unienc_free_muxer_completion_handle", CallingConvention = CallingConvention.Cdecl, ExactSpelling = true)]
        internal static extern void unienc_free_muxer_completion_handle(SendPtr completion_handle);

        [DllImport(__DllName, EntryPoint = "unienc_video_encoder_push", CallingConvention = CallingConvention.Cdecl, ExactSpelling = true)]
        internal static extern void unienc_video_encoder_push(SendPtr input, SendPtr data, nuint data_size, uint width, uint height, double timestamp, nuint callback, SendPtr user_data);

        [DllImport(__DllName, EntryPoint = "unienc_video_encoder_pull", CallingConvention = CallingConvention.Cdecl, ExactSpelling = true)]
        internal static extern void unienc_video_encoder_pull(SendPtr output, nuint callback, SendPtr user_data);

        [DllImport(__DllName, EntryPoint = "unienc_free_video_encoder_input", CallingConvention = CallingConvention.Cdecl, ExactSpelling = true)]
        internal static extern void unienc_free_video_encoder_input(SendPtr video_input);

        [DllImport(__DllName, EntryPoint = "unienc_free_video_encoder_output", CallingConvention = CallingConvention.Cdecl, ExactSpelling = true)]
        internal static extern void unienc_free_video_encoder_output(SendPtr video_output);

        [DllImport(__DllName, EntryPoint = "unienc_error_kind_is_success", CallingConvention = CallingConvention.Cdecl, ExactSpelling = true)]
        [return: MarshalAs(UnmanagedType.U1)]
        internal static extern bool unienc_error_kind_is_success(UniencErrorKind error);

        [DllImport(__DllName, EntryPoint = "unienc_error_is_success", CallingConvention = CallingConvention.Cdecl, ExactSpelling = true)]
        [return: MarshalAs(UnmanagedType.U1)]
        internal static extern bool unienc_error_is_success(UniencErrorNative error);

        [DllImport(__DllName, EntryPoint = "unienc_jpeg_decode", CallingConvention = CallingConvention.Cdecl, ExactSpelling = true)]
        internal static extern void unienc_jpeg_decode(byte* data, nuint size, nuint callback, void* user_data);


    }

    [StructLayout(LayoutKind.Sequential)]
    internal unsafe partial struct UniencErrorNative
    {
        public UniencErrorKind kind;
        public byte* message;
    }

    [StructLayout(LayoutKind.Sequential)]
    internal unsafe partial struct SendPtr
    {
        public T* Item1;
    }

    [StructLayout(LayoutKind.Sequential)]
    internal unsafe partial struct VideoEncoderOptionsNative
    {
        public uint width;
        public uint height;
        public uint fps_hint;
        public uint bitrate;
    }

    [StructLayout(LayoutKind.Sequential)]
    internal unsafe partial struct AudioEncoderOptionsNative
    {
        public uint sample_rate;
        public uint channels;
        public uint bitrate;
    }


    internal enum UniencErrorKind : uint
    {
        Success = 0,
        Error = 1,
        InitializationError = 2,
        ConfigurationError = 3,
        ResourceAllocationError = 4,
        EncodingError = 5,
        MuxingError = 6,
        CommunicationError = 7,
        TimeoutError = 8,
        InvalidInput = 9,
        PlatformError = 10,
    }


}
