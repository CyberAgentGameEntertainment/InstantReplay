// <auto-generated>
// This code is generated by csbindgen.
// DON'T CHANGE THIS DIRECTLY.
// </auto-generated>
#pragma warning disable CS8500
#pragma warning disable CS8981
using System;
using System.Runtime.InteropServices;


namespace UniEnc.Native
{
    internal static unsafe partial class NativeMethods
    {
#if UNITY_IOS && !UNITY_EDITOR
        const string __DllName = "__Internal";
#else
        const string __DllName = "libunienc_c";
#endif
        





        [DllImport(__DllName, EntryPoint = "unienc_audio_encoder_push", CallingConvention = CallingConvention.Cdecl, ExactSpelling = true)]
        internal static extern void unienc_audio_encoder_push(Runtime* runtime, SendPtr input, SendPtr data, nuint sample_count, ulong timestamp_in_samples, nuint callback, SendPtr user_data);

        [DllImport(__DllName, EntryPoint = "unienc_audio_encoder_pull", CallingConvention = CallingConvention.Cdecl, ExactSpelling = true)]
        internal static extern void unienc_audio_encoder_pull(Runtime* runtime, SendPtr output, nuint callback, SendPtr user_data);

        [DllImport(__DllName, EntryPoint = "unienc_free_audio_encoder_input", CallingConvention = CallingConvention.Cdecl, ExactSpelling = true)]
        internal static extern void unienc_free_audio_encoder_input(SendPtr audio_input);

        [DllImport(__DllName, EntryPoint = "unienc_free_audio_encoder_output", CallingConvention = CallingConvention.Cdecl, ExactSpelling = true)]
        internal static extern void unienc_free_audio_encoder_output(SendPtr audio_output);

        [DllImport(__DllName, EntryPoint = "unienc_muxer_push_video", CallingConvention = CallingConvention.Cdecl, ExactSpelling = true)]
        internal static extern void unienc_muxer_push_video(Runtime* runtime, SendPtr video_input, SendPtr data, nuint size, double timestamp, nuint callback, SendPtr user_data);

        [DllImport(__DllName, EntryPoint = "unienc_muxer_push_audio", CallingConvention = CallingConvention.Cdecl, ExactSpelling = true)]
        internal static extern void unienc_muxer_push_audio(Runtime* runtime, SendPtr audio_input, SendPtr data, nuint size, double timestamp, nuint callback, SendPtr user_data);

        [DllImport(__DllName, EntryPoint = "unienc_muxer_finish_video", CallingConvention = CallingConvention.Cdecl, ExactSpelling = true)]
        internal static extern void unienc_muxer_finish_video(Runtime* runtime, SendPtr video_input, nuint callback, SendPtr user_data);

        [DllImport(__DllName, EntryPoint = "unienc_muxer_finish_audio", CallingConvention = CallingConvention.Cdecl, ExactSpelling = true)]
        internal static extern void unienc_muxer_finish_audio(Runtime* runtime, SendPtr audio_input, nuint callback, SendPtr user_data);

        [DllImport(__DllName, EntryPoint = "unienc_muxer_complete", CallingConvention = CallingConvention.Cdecl, ExactSpelling = true)]
        internal static extern void unienc_muxer_complete(Runtime* runtime, SendPtr completion_handle, nuint callback, SendPtr user_data);

        [DllImport(__DllName, EntryPoint = "unienc_free_muxer_video_input", CallingConvention = CallingConvention.Cdecl, ExactSpelling = true)]
        internal static extern void unienc_free_muxer_video_input(SendPtr video_input);

        [DllImport(__DllName, EntryPoint = "unienc_free_muxer_audio_input", CallingConvention = CallingConvention.Cdecl, ExactSpelling = true)]
        internal static extern void unienc_free_muxer_audio_input(SendPtr audio_input);

        [DllImport(__DllName, EntryPoint = "unienc_free_muxer_completion_handle", CallingConvention = CallingConvention.Cdecl, ExactSpelling = true)]
        internal static extern void unienc_free_muxer_completion_handle(SendPtr completion_handle);

        [DllImport(__DllName, EntryPoint = "unienc_video_encoder_push_shared_buffer", CallingConvention = CallingConvention.Cdecl, ExactSpelling = true)]
        internal static extern void unienc_video_encoder_push_shared_buffer(Runtime* runtime, SendPtr input, SendPtr buffer, uint width, uint height, double timestamp, nuint callback, SendPtr user_data);

        [DllImport(__DllName, EntryPoint = "unienc_video_encoder_push_blit_source", CallingConvention = CallingConvention.Cdecl, ExactSpelling = true)]
        internal static extern void unienc_video_encoder_push_blit_source(Runtime* runtime, SendPtr input, void* source_native_texture_ptr, uint width, uint height, uint graphics_format, [MarshalAs(UnmanagedType.U1)] bool flip_vertically, [MarshalAs(UnmanagedType.U1)] bool is_gamma_workflow, double timestamp, nuint issue_graphics_event_callback, nuint callback, SendPtr user_data);

        [DllImport(__DllName, EntryPoint = "unienc_video_encoder_pull", CallingConvention = CallingConvention.Cdecl, ExactSpelling = true)]
        internal static extern void unienc_video_encoder_pull(Runtime* runtime, SendPtr output, nuint callback, SendPtr user_data);

        [DllImport(__DllName, EntryPoint = "unienc_free_video_encoder_input", CallingConvention = CallingConvention.Cdecl, ExactSpelling = true)]
        internal static extern void unienc_free_video_encoder_input(SendPtr video_input);

        [DllImport(__DllName, EntryPoint = "unienc_free_video_encoder_output", CallingConvention = CallingConvention.Cdecl, ExactSpelling = true)]
        internal static extern void unienc_free_video_encoder_output(SendPtr video_output);

        [DllImport(__DllName, EntryPoint = "unienc_new_runtime", CallingConvention = CallingConvention.Cdecl, ExactSpelling = true)]
        internal static extern Runtime* unienc_new_runtime();

        [DllImport(__DllName, EntryPoint = "unienc_drop_runtime", CallingConvention = CallingConvention.Cdecl, ExactSpelling = true)]
        internal static extern void unienc_drop_runtime(Runtime* runtime);

        [DllImport(__DllName, EntryPoint = "unienc_new_encoding_system", CallingConvention = CallingConvention.Cdecl, ExactSpelling = true)]
        internal static extern PlatformEncodingSystem* unienc_new_encoding_system(Runtime* runtime, VideoEncoderOptionsNative* video_options, AudioEncoderOptionsNative* audio_options);

        [DllImport(__DllName, EntryPoint = "unienc_free_encoding_system", CallingConvention = CallingConvention.Cdecl, ExactSpelling = true)]
        internal static extern void unienc_free_encoding_system(PlatformEncodingSystem* system);

        [DllImport(__DllName, EntryPoint = "unienc_new_video_encoder", CallingConvention = CallingConvention.Cdecl, ExactSpelling = true)]
        [return: MarshalAs(UnmanagedType.U1)]
        internal static extern bool unienc_new_video_encoder(Runtime* runtime, PlatformEncodingSystem* system, Mutex** input_out, Mutex** output_out, nuint on_error, SendPtr user_data);

        [DllImport(__DllName, EntryPoint = "unienc_new_audio_encoder", CallingConvention = CallingConvention.Cdecl, ExactSpelling = true)]
        [return: MarshalAs(UnmanagedType.U1)]
        internal static extern bool unienc_new_audio_encoder(Runtime* runtime, PlatformEncodingSystem* system, Mutex** input_out, Mutex** output_out, nuint on_error, SendPtr user_data);

        [DllImport(__DllName, EntryPoint = "unienc_new_muxer", CallingConvention = CallingConvention.Cdecl, ExactSpelling = true)]
        [return: MarshalAs(UnmanagedType.U1)]
        internal static extern bool unienc_new_muxer(Runtime* runtime, PlatformEncodingSystem* system, byte* output_path, Mutex** video_input_out, Mutex** audio_input_out, Mutex** completion_handle_out, nuint on_error, SendPtr user_data);

        [DllImport(__DllName, EntryPoint = "unienc_is_blit_supported", CallingConvention = CallingConvention.Cdecl, ExactSpelling = true)]
        [return: MarshalAs(UnmanagedType.U1)]
        internal static extern bool unienc_is_blit_supported(PlatformEncodingSystem* system);

        [DllImport(__DllName, EntryPoint = "unienc_free_graphics_event_context", CallingConvention = CallingConvention.Cdecl, ExactSpelling = true)]
        internal static extern void unienc_free_graphics_event_context(void* context);

        [DllImport(__DllName, EntryPoint = "unienc_new_shared_buffer_pool", CallingConvention = CallingConvention.Cdecl, ExactSpelling = true)]
        [return: MarshalAs(UnmanagedType.U1)]
        internal static extern bool unienc_new_shared_buffer_pool(nuint limit, Mutex** pool_out, nuint _on_error, void* _user_data);

        [DllImport(__DllName, EntryPoint = "unienc_shared_buffer_pool_alloc", CallingConvention = CallingConvention.Cdecl, ExactSpelling = true)]
        [return: MarshalAs(UnmanagedType.U1)]
        internal static extern bool unienc_shared_buffer_pool_alloc(Mutex* pool, nuint size, SharedBuffer** buffer_out, byte** ptr_out, nuint on_error, SendPtr user_data);

        [DllImport(__DllName, EntryPoint = "unienc_free_shared_buffer_pool", CallingConvention = CallingConvention.Cdecl, ExactSpelling = true)]
        internal static extern void unienc_free_shared_buffer_pool(Mutex* pool);

        [DllImport(__DllName, EntryPoint = "unienc_free_shared_buffer", CallingConvention = CallingConvention.Cdecl, ExactSpelling = true)]
        internal static extern void unienc_free_shared_buffer(SharedBuffer* buffer);

        [DllImport(__DllName, EntryPoint = "unienc_dummy", CallingConvention = CallingConvention.Cdecl, ExactSpelling = true)]
        internal static extern void unienc_dummy(UniencErrorKind _error_kind, UniencErrorNative _error_native, UniencSampleData _sample);


    }

    [StructLayout(LayoutKind.Sequential)]
    internal unsafe partial struct UniencSampleData
    {
        public byte* data;
        public nuint size;
        public double timestamp;
        public UniencSampleKind kind;
    }

    [StructLayout(LayoutKind.Sequential)]
    internal unsafe partial struct VideoEncoderOptionsNative
    {
        public uint width;
        public uint height;
        public uint fps_hint;
        public uint bitrate;
    }

    [StructLayout(LayoutKind.Sequential)]
    internal unsafe partial struct AudioEncoderOptionsNative
    {
        public uint sample_rate;
        public uint channels;
        public uint bitrate;
    }

    [StructLayout(LayoutKind.Sequential)]
    internal unsafe partial struct SendPtr
    {
        public T* Item1;
    }

    [StructLayout(LayoutKind.Sequential)]
    internal unsafe partial struct UniencErrorNative
    {
        public UniencErrorKind kind;
        public byte* message;
    }


    internal enum UniencErrorKind : uint
    {
        Success = 0,
        Error = 1,
        InitializationError = 2,
        ConfigurationError = 3,
        ResourceAllocationError = 4,
        EncodingError = 5,
        MuxingError = 6,
        CommunicationError = 7,
        TimeoutError = 8,
        InvalidInput = 9,
        PlatformError = 10,
    }


}
